<script>;
!function(){function n(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function t(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=function(t,r){if(t){if("string"==typeof t)return n(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=Object.prototype;function e(n){var t=Object.create(null);return n&&Object.assign(t,n),t}r.hasOwnProperty,r.toString;var i=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function o(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(n)}catch(n){return t}}function s(n){var t,r=e();if(!n)return r;for(;t=i.exec(n);){var s=o(t[1],t[1]),u=t[2]?o(t[2].replace(/\+/g," "),t[2]):"";r[s]=u}return r}function u(n){var t=(n||self).location;return s(t.originalHash||t.hash)}function a(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}var f=Array.isArray;function c(n,t){for(var r=[],e=0,i=0;i<n.length;i++){var o=n[i];t(o,i,n)?r.push(o):(e<i&&(n[e]=o),e++)}return e<n.length&&(n.length=e),r}function l(n){return"string"==typeof n}function h(n){return 1==(null==n?void 0:n.nodeType)}var v="​​​";function d(n){return h(n)?n.tagName.toLowerCase()+(n.id?"#".concat(n.id):""):n}function p(n){return n.indexOf(v)>=0}function m(n,t){var r,e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Assertion failed";if(t)return t;n&&-1==i.indexOf(n)&&(i+=n);for(var o=3,s=i.split("%s"),u=s.shift(),a=[u];s.length;){var f=arguments[o++],l=s.shift();u+=d(f)+l,a.push(f,l.trim())}var h=new Error(u);throw h.messageArray=c(a,(function(n){return""!==n})),null===(r=(e=self).__AMP_REPORT_ERROR)||void 0===r||r.call(e,h),h}function g(n,t,r,e,i){return f(i)?n(r,i.concat([t])):n(r,"".concat(i||e,": %s"),t),t}function w(n){var t=Object.getOwnPropertyDescriptor(n,"message");if(null!=t&&t.writable)return n;var r=n.message,e=n.stack,i=new Error(r);for(var o in n)i[o]=n[o];return i.stack=e,i}function y(n){for(var r,e=null,i="",o=t(arguments,!0);!(r=o()).done;){var s=r.value;s instanceof Error&&!e?e=w(s):(i&&(i+=" "),i+=s)}return e?i&&(e.message=i+": "+e.message):e=new Error(i),e}function E(n){var t=y.apply(null,arguments);return t.expected=!0,t}function b(n){var t=!1,r=null,e=n;return function(){if(!t){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];r=e.apply(self,i),t=!0,e=null}return r}}var R=function(n){return self.AMP_CONFIG?self.AMP_CONFIG[n]:null},A=("string"==typeof R("cdnProxyRegex")?new RegExp(R("cdnProxyRegex")):R("cdnProxyRegex"))||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function O(n){if(!self.document||!self.document.head)return null;if(self.location&&A.test(self.location.origin))return null;var t=self.document.head.querySelector('meta[name="'.concat(n,'"]'));return t&&t.getAttribute("content")||null}var S=R("cdnUrl")||O("runtime-host")||"https://cdn.ampproject.org",x=R("errorReportingUrl")||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",C=R("betaErrorReportingUrl")||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",I="";function P(n){var t=n||self;return t.__AMP_MODE?t.__AMP_MODE:t.__AMP_MODE=function(n){return{localDev:!1,development:_(n,u(n)),esm:!1,test:!1,rtvVersion:T(n),ssrReady:!1}}(t)}function T(n){var t;return I||(I=(null===(t=n.AMP_CONFIG)||void 0===t?void 0:t.v)||"01".concat("2312191621000")),I}function _(n,t){var r=t||u(n);return["1","actions","amp","amp4ads","amp4email"].includes(r.development)||!!n.AMP_DEV_MODE}var M=function(){},j=function(){return"01".concat("2312191621000")},k=function(n,t){return t.reduce((function(n,t){return"".concat(n,"&s[]=").concat(U(t))}),"https://log.amp.dev/?v=".concat(j(),"&id=").concat(encodeURIComponent(n)))},N=function(){return"".concat(S,"/rtv/").concat(j(),"/log-messages.simple.json")},U=function(n){return encodeURIComponent(String(d(n)))},L=function(n){return parseInt(u(n).log,10)},W=function(){function n(n,t){var r=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.win=n,this.U=t,this.N=this.L(),this.T=e,this.D=null,this.F=b((function(){n.fetch(N()).then((function(n){return n.json()}),M).then((function(n){n&&(r.D=n)}))})),this.$=this.assert.bind(this)}var t=n.prototype;return t.L=function(){var n,t=this.win;return null!==(n=t.console)&&void 0!==n&&n.log&&0!=L(t)?this.Z():0},t.Z=function(n){return this.U(L(n),P().development)},t.B=function(n,t,r){var e,i;if(t>this.N)return!1;var o=this.win.console,s=null!==(e=(i={},a(i,1,o.error),a(i,3,o.info),a(i,2,o.warn),i)[t])&&void 0!==e?e:o.log,u=this.V(r),f="[".concat(n,"]");return l(u[0])?u[0]=f+" "+u[0]:u.unshift(f),s.apply(o,u),!0},t.fine=function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];this.B(n,4,r)},t.info=function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];this.B(n,3,r)},t.warn=function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];this.B(n,2,r)},t.error=function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];if(!this.B(n,1,r)){var i,o,s=this.createError.apply(this,r);s.name=n||s.name,null===(i=(o=self).__AMP_REPORT_ERROR)||void 0===i||i.call(o,s)}},t.expectedError=function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];var i,o;this.B(n,1,r)||null===(i=(o=self).__AMP_REPORT_ERROR)||void 0===i||i.call(o,this.createExpectedError.apply(this,r))},t.createError=function(n){return this.W(y.apply(null,arguments))},t.createExpectedError=function(n){return this.W(E.apply(null,arguments))},t.W=function(n){return n=w(n),this.T?n.message?-1==n.message.indexOf(this.T)&&(n.message+=this.T):n.message=this.T:p(n.message)&&(n.message=n.message.replace(v,"")),n},t.V=function(n){return f(n[0])?this.X(n[0]):n},t.X=function(n){var t,r=n.shift();return P(this.win).development&&this.F(),null!==(t=this.D)&&void 0!==t&&t[r]?[this.D[r]].concat(n):["More info at ".concat(k(r,n))]},t.assert=function(n,t,r){return f(t)?this.assert.apply(this,[n].concat(this.X(t))):m.apply(null,[this.T].concat(Array.prototype.slice.call(arguments)))},t.assertElement=function(n,t){return function(n,t,r){return g(n,t,h(t),"Element expected",r)}(this.$,n,t)},t.assertString=function(n,t){return function(n,t,r){return g(n,t,l(t),"String expected",r)}(this.$,n,t)},t.assertNumber=function(n,t){return function(n,t,r){return g(n,t,"number"==typeof t,"Number expected",r)}(this.$,n,t)},t.assertArray=function(n,t){return function(n,t,r){return g(n,t,f(t),"Array expected",r)}(this.$,n,t)},t.assertBoolean=function(n,t){return function(n,t,r){return g(n,t,!!t===t,"Boolean expected",r)}(this.$,n,t)},n}();self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var D=self.__AMP_LOG,F=null;function G(n,t){if(!F)throw new Error("failed to call initLogConstructor");return new F(self,n,t)}function K(n){return D.user||(D.user=V(v)),function(n,t){return t&&t.ownerDocument.defaultView!=n}(D.user.win,n)?D.userForEmbed||(D.userForEmbed=V("​​​​")):D.user}function V(n){return G((function(n,t){return t||n>=1?4:2}),n)}function q(){return D.dev||(D.dev=G((function(n){return n>=3?4:n>=2?3:0})))}function z(n,t,r,e,i,o,s,u,a,f,c){return n}var H="amp-web-push";function J(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function Z(n){return n.data}var $,B=function(){function n(n){this.G=n,this.K=0,this.Y=0,this.rr=e()}var t=n.prototype;return t.has=function(n){return!!this.rr[n]},t.get=function(n){var t=this.rr[n];if(t)return t.access=++this.Y,t.payload},t.put=function(n,t){this.has(n)||this.K++,this.rr[n]={payload:t,access:this.Y},this.nr()},t.nr=function(){if(!(this.K<=this.G)){var n,t=this.rr,r=this.Y+1;for(var e in t){var i=t[e].access;i<r&&(r=i,n=e)}void 0!==n&&(delete t[n],this.K--)}},n}();function Q(n,t){return Y(n=function(n){return n.__AMP_TOP||(n.__AMP_TOP=n)}(n),t)}function X(n){return n.nodeType?(r=n,t=(r.ownerDocument||r).defaultView,Q(t,"ampdoc")).getAmpDoc(n):n;var t,r}function Y(n,t){z(function(n,t){var r=n.__AMP_SERVICES&&n.__AMP_SERVICES[t];return!(!r||!r.ctor)}(n,t));var r=function(n){var t=n.__AMP_SERVICES;return t||(t=n.__AMP_SERVICES={}),t}(n)[t];return r.obj||(z(r.ctor),z(r.context),r.obj=new r.ctor(r.context),z(r.obj),r.context=null,r.resolve&&r.resolve(r.obj)),r.obj}var nn,tn;function rn(n,t){return nn||(nn=self.document.createElement("a"),tn=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new B(100))),function(n,t,r){if(r&&r.has(t))return r.get(t);n.href=t,n.protocol||(n.href=n.href);var e,i={href:n.href,protocol:n.protocol,host:n.host,hostname:n.hostname,port:"0"==n.port?"":n.port,pathname:n.pathname,search:n.search,hash:n.hash,origin:null};"/"!==i.pathname[0]&&(i.pathname="/"+i.pathname),("http:"==i.protocol&&80==i.port||"https:"==i.protocol&&443==i.port)&&(i.port="",i.host=i.hostname),e=n.origin&&"null"!=n.origin?n.origin:"data:"!=i.protocol&&i.host?i.protocol+"//"+i.host:i.href,i.origin=e;var o=i;return r&&r.put(t,o),o}(nn,n,t?null:tn)}var en,on=function(){function n(n){n||(n={debug:!1,windowContext:window}),this.D={},this.En={},this.Rn=n.debug,this.An=!1,this.On=!1,this.Sn=!1,this.Cn=null,this.In=null,this.Pn=null,this.Tn=null,this._n=null,this.Mn=n.windowContext||window}var t,r,e=n.prototype;return e.listen=function(t){var r=this;return new Promise((function(n,e){r.Sn?e(new Error("Already connected.")):r.An?e(new Error("Already listening for connections.")):Array.isArray(t)?(r.Pn=r.jn.bind(r,t,n,e),r.Mn.addEventListener("message",r.Pn),r.Rn&&q().fine(H,"Listening for a connection message...")):e(new Error("allowedOrigins should be a string array of allowed origins to accept messages from. Got:",t))})).then((function(){r.send(n.Topics.CONNECT_HANDSHAKE,null),r.Sn=!0}))},e.kn=function(n,t){for(var r=rn(n).origin,e=0;e<t.length;e++)if(rn(t[e]).origin===r)return!0;return!1},e.jn=function(t,r,e,i){var o=Z(i),s=i.origin,u=i.ports;this.Rn&&q().fine(H,"Window message for listen() connection received:",o),this.kn(s,t)?o&&o.topic===n.Topics.CONNECT_HANDSHAKE?(q().fine(H,"Received expected connection handshake message:",o),this.Mn.removeEventListener("message",this.Pn),this.In=u[0],this._n=this.Nn.bind(this),this.In.addEventListener("message",this._n,!1),this.In.start(),r()):q().fine(H,"Discarding connection message because it did not contain our expected handshake:",o):q().fine(H,"Discarding connection message from ".concat(s," ")+"because it isn't an allowed origin:",o," (allowed  origins are)",t)},e.connect=function(t,r){var e=this;return new Promise((function(i,o){t||o(new Error("Provide a valid Window context to connect to.")),r||o(new Error("Provide an expected origin for the remote Window or provide the wildcard *.")),e.Sn?o(new Error("Already connected.")):e.On?o(new Error("Already connecting.")):(e.Cn=new MessageChannel,e.In=e.Cn.port1,e.Tn=e.Un.bind(e,e.In,r,i),e.In.addEventListener("message",e.Tn),e.In.start(),t.postMessage({topic:n.Topics.CONNECT_HANDSHAKE},"*"===r?"*":rn(r).origin,[e.Cn.port2]),q().fine(H,"Opening channel to ".concat(r,"...")))}))},e.Un=function(n,t,r){this.Sn=!0,this.Rn&&q().fine(H,"Messenger channel to ".concat(t," established.")),n.removeEventListener("message",this.Tn),this._n=this.Nn.bind(this),n.addEventListener("message",this._n,!1),r()},e.Nn=function(n){var t=Z(n);if(this.D[t.id]&&t.isReply){var r=this.D[t.id];delete this.D[t.id];var e=r.promiseResolver;r.message=t.data,this.Rn&&q().fine(H,"Received reply for topic '%s': %s",t.topic,t.data),e([t.data,this.Ln.bind(this,t.id,r.topic)])}else{var i=this.En[t.topic];if(!i)return;this.Rn&&q().fine(H,"Received new message for "+"topic '".concat(t.topic,"': ").concat(t.data));for(var o=0;o<i.length;o++)(0,i[o])(t.data,this.Ln.bind(this,t.id,t.topic))}},e.on=function(n,t){this.En[n]?this.En[n].push(t):this.En[n]=[t]},e.off=function(n,t){if(t){var r=this.En[n].indexOf(t);-1!==r&&this.En[n].splice(r,1)}else this.En[n]&&delete this.En[n]},e.Ln=function(n,t,r){var e=this,i={id:n,topic:t,data:r,isReply:!0};return this.In.postMessage(i),new Promise((function(n){e.D[i.id]={message:r,topic:t,promiseResolver:n}}))},e.send=function(n,t){var r=this,e={id:crypto.getRandomValues(new Uint8Array(10)).join(""),topic:n,data:t};return this.Rn&&q().fine(H,"Sending %s: %s",n,t),this.In.postMessage(e),new Promise((function(i){r.D[e.id]={message:t,topic:n,promiseResolver:i}}))},t=n,(r=[{key:"Topics",get:function(){return{CONNECT_HANDSHAKE:"topic-connect-handshake",NOTIFICATION_PERMISSION_STATE:"topic-notification-permission-state",SERVICE_WORKER_STATE:"topic-service-worker-state",SERVICE_WORKER_REGISTRATION:"topic-service-worker-registration",SERVICE_WORKER_QUERY:"topic-service-worker-query",STORAGE_GET:"topic-storage-get"}}}])&&J(t,r),n}(),sn=["Webkit","webkit","Moz","moz","ms","O","o"];function un(n,t,r,i,o){var s=function(n,t,r){if(t.startsWith("--"))return t;en||(en=e());var i=en[t];if(!i||r){if(i=t,void 0===n[t]){var o=function(n){return n.charAt(0).toUpperCase()+n.slice(1)}(t),s=function(n,t){for(var r=0;r<sn.length;r++){var e=sn[r]+t;if(void 0!==n[e])return e}return""}(n,o);void 0!==n[s]&&(i=s)}r||(en[t]=i)}return i}(n.style,t,o);if(s){var u,a=i?r+i:r;n.style.setProperty((u=s.replace(/[A-Z]/g,(function(n){return"-"+n.toLowerCase()})),sn.some((function(n){return u.startsWith(n+"-")}))?"-".concat(u):u),a)}}var an=!1,fn=self.__AMP_ERRORS||[];self.__AMP_ERRORS=fn;var cn,ln=function(n){return(t=0,r=function(){var n=Math.pow(1.5,t++);return 1e3*(n+function(n,t){var r=n*(t=t||.3)*Math.random();return Math.random()>.5&&(r*=-1),r}(n))},ln=function(n){return setTimeout(n,r())})(n);var t,r};function hn(n,t,r,e,i){var o,s=this;if(!this||!this.document||i&&i.expected||(z((o=this.document).defaultView),an||(an=!0,function(n){!function(n,t){for(var r in t)un(n,r,t[r])}(n.body,{opacity:1,visibility:"visible","animation":"none"})}(o))),!P().development){var u=!1;try{u=function(n){if(!n.document)return!1;for(var t=n.document.querySelectorAll("script[src]"),r=0;r<t.length;r++)if(e=t[r].src.toLowerCase(),!A.test(function(n){return"string"==typeof n?rn(n):n}(e).origin))return!0;var e;return!1}(self)}catch(n){}if(!(u&&Math.random()>.01)){var a=function(n,t,r,e,i,o){n=function(n,t){return t&&(n=t.message?t.message:String(t)),n||(n="Unknown error"),n}(n,i);var s=!(!i||!i.expected);if(!/_reported_/.test(n)&&"CANCELLED"!=n){var u=!(self&&self.window),a=Math.random();if(!((function(n){return-1!=n.indexOf("Failed to load:")}(n)||"Script error."==n||u)&&(s=!0,a>.001))){var f=p(n);if(!(f&&a>.1)){var c=Object.create(null);c.v=P().rtvVersion,c.noAmp=o?"1":"0",c.m=n.replace(v,""),c.a=f?"1":"0",c.ex=s?"1":"0",c.dw=u?"1":"0";var l,h,d="1p";if(self.context&&self.context.location?(d="3p",c["3p"]="1"):P().runtime&&(d=P().runtime),c.rt=d,c.cdn=S,"inabox"===d&&(c.adid=P().a4aId),c.ca=null!==(h=self.AMP_CONFIG)&&void 0!==h&&h.canary?"1":"0",c.bt=(null===(l=self.AMP_CONFIG)||void 0===l?void 0:l.type)||"unknown",self.location.ancestorOrigins&&self.location.ancestorOrigins[0]&&(c.or=self.location.ancestorOrigins[0]),self.viewerState&&(c.vs=self.viewerState),self.parent&&self.parent!=self&&(c.iem="1"),self.AMP&&self.AMP.viewer){var m=self.AMP.viewer.getResolvedViewerUrl(),g=self.AMP.viewer.maybeGetMessagingOrigin();m&&(c.rvu=m),g&&(c.mso=g)}var w,y,E,b=[],R=self.__AMP__EXPERIMENT_TOGGLES||null;for(var A in R){var O=R[A];b.push("".concat(A,"=").concat(O?"1":"0"))}return c.exps=b.join(","),i?(c.el=(null===(w=i.associatedElement)||void 0===w?void 0:w.tagName)||"u",i.args&&(c.args=JSON.stringify(i.args)),f||i.ignoreStack||!i.stack||(c.s=i.stack),i.message&&(i.message+=" _reported_")):(c.f=t||"",c.l=r||"",c.c=e||""),c.r=self.document?self.document.referrer:"",c.ae=fn.join(","),c.fr=self.location.originalHash||self.location.hash,"production"===c.bt&&(c.pt="1"),E=n,(y=fn).length>=25&&y.splice(0,y.length-25+1),y.push(E),c}}}}(n,t,r,e,i,u);a&&ln((function(){try{return function(n,t){return t.pt&&Math.random()<.9?$||($=Promise.resolve(void 0)):function(n,t){var r=function(n){return Q(n,"ampdoc")}(n);if(!r.isSingleDoc())return Promise.resolve(!1);var e=r.getSingleDoc();if(!e.getRootNode().documentElement.hasAttribute("report-errors-to-viewer"))return Promise.resolve(!1);var i,o,s,u=(i="viewer",Y((o=X(e),(s=X(o)).isSingleDoc()?s.win:s),i));return u.hasCapability("errorReporter")?u.isTrustedViewer().then((function(n){return!!n&&(u.sendMessage("error",{"m":(r=t).m,"a":r.a,"s":r.s,"el":r.el,"ex":r.ex,"v":r.v,"pt":r.pt}),!0);var r})):Promise.resolve(!1)}(n,t).then((function(n){if(!n){var r=new XMLHttpRequest;r.open("POST",Math.random()<.1?C:x,!0),r.send(JSON.stringify(t))}}))}(s,a).catch((function(){}))}catch(n){}}))}}}F=W,q(),K(),cn=function(n,t){try{if(n)if(void 0!==n.message)n=w(n);else{var r=n;(n=new Error(function(n){try{return JSON.stringify(n)}catch(t){return String(n)}}(r))).origError=r}else n=new Error("Unknown error");if(n.reported)return n;if(n.reported=!0,n.messageArray){var e=function(n,t){for(var r=0;r<n.length;r++)if(null==(e=n[r])?void 0:e.tagName)return r;var e;return-1}(n.messageArray);e>-1&&(n.associatedElement=n.messageArray[e])}var i=t||n.associatedElement;if(i&&i.classList&&(i.classList.add("i-amphtml-error"),P().development&&(i.classList.add("i-amphtml-element-error"),i.setAttribute("error-message",n.message))),self.console&&(p(n.message)||!n.expected)){var o=console.error||console.log;n.messageArray?o.apply(console,n.messageArray):i?o.call(console,n.message,i):o.call(console,n.message)}i&&i.dispatchCustomEventForTesting&&i.dispatchCustomEventForTesting("amp:error",n.message),hn.call(self,void 0,void 0,void 0,void 0,n)}catch(n){setTimeout((function(){throw n}))}return n},self.__AMP_REPORT_ERROR=cn;var vn=function(){function n(n){this.Rn=n&&n.debug,this.Mn=n.windowContext||window,this.Wn=new on({debug:this.Rn,windowContext:this.Mn}),this.Dn={}}var t=n.prototype;return t.Fn=function(n,t,r,e){n({success:t,error:t?void 0:r,result:t?e:void 0})},t.Gn=function(n,t){if(n&&n.isQueryTopicSupported){var r=!1;for(var e in on.Topics)n.isQueryTopicSupported===on.Topics[e]&&(r=!0);this.Fn(t,!0,null,r)}else this.Fn(t,!0,null,Notification.permission)},t.Kn=function(n,t){var r=null;try{n&&n.key&&this.Mn.localStorage?r=this.Mn.localStorage.getItem(n.key):K().warn(H,"LocalStorage retrieval failed.")}catch(n){}this.Fn(t,!0,null,r)},t.Vn=function(n,t){var r={isControllingFrame:!!this.Mn.navigator.serviceWorker.controller,url:this.Mn.navigator.serviceWorker.controller?this.Mn.navigator.serviceWorker.controller.scriptURL:null,state:this.Mn.navigator.serviceWorker.controller?this.Mn.navigator.serviceWorker.controller.state:null};this.Fn(t,!0,null,r)},t.qn=function(n,t){var r=this;if(!n||!n.workerUrl||!n.registrationOptions)throw new Error("Expected arguments workerUrl and registrationOptions in message, got:",n);this.Mn.navigator.serviceWorker.register(n.workerUrl,n.registrationOptions).then((function(){r.Fn(t,!0,null,null)})).catch((function(n){r.Fn(t,!0,null,n?n.message||n.toString():null)}))},t.messageServiceWorker=function(n){this.Mn.navigator.serviceWorker.controller.postMessage({command:n.topic,payload:n.payload})},t.zn=function(n,t){var r=this;if(!n||!n.topic)throw new Error("Expected argument topic in message, got:",n);new Promise((function(t){r.Dn[n.topic]=t,r.waitUntilWorkerControlsPage().then((function(){r.messageServiceWorker(n)}))})).then((function(e){return delete r.Dn[n.topic],r.Fn(t,!0,null,e)}))},t.Hn=function(){var n=s(this.Mn.location.search);if(!n.parentOrigin)throw new Error("Expecting parentOrigin URL query parameter.");return n.parentOrigin},t.Jn=function(n){var t=n.data,r=t.command,e=t.payload,i=this.Dn[r];"function"==typeof i&&i(e)},t.Zn=function(){return this.Mn.navigator.serviceWorker&&this.Mn.navigator.serviceWorker.controller&&"activated"===this.Mn.navigator.serviceWorker.controller.state},t.waitUntilWorkerControlsPage=function(){var n=this;return new Promise((function(t){n.Zn()?t():n.Mn.navigator.serviceWorker.addEventListener("controllerchange",(function(){n.Zn()?t():n.Mn.navigator.serviceWorker.controller.addEventListener("statechange",(function(){n.Zn()&&t()}))}))}))},t.run=function(n){var t=this;this.Wn.on(on.Topics.NOTIFICATION_PERMISSION_STATE,this.Gn.bind(this)),this.Wn.on(on.Topics.SERVICE_WORKER_STATE,this.Vn.bind(this)),this.Wn.on(on.Topics.SERVICE_WORKER_REGISTRATION,this.qn.bind(this)),this.Wn.on(on.Topics.SERVICE_WORKER_QUERY,this.zn.bind(this)),this.Wn.on(on.Topics.STORAGE_GET,this.Kn.bind(this)),this.waitUntilWorkerControlsPage().then((function(){t.Mn.navigator.serviceWorker.addEventListener("message",t.Jn.bind(t))})),this.Wn.listen([n||this.Hn()])},n}();window._ampWebPushHelperFrame=new vn({debug:!1}),window._ampWebPushHelperFrame.run()}();
</script>
